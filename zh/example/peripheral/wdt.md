# 9. WDT 例程

## 1. 概述

K230 内部包含两个 WDT（看门狗定时器）硬件模块，主要用于在应用程序崩溃或进入不可恢复状态时重启系统。一旦启动 WDT，如果在设定的超时时间内没有进行“喂狗”操作，系统将自动复位。

## 2. 示例

以下示例展示了如何使用 WDT 接口进行简单的看门狗功能测试。

```python
import time
from machine import WDT

# 实例化 WDT1，超时时间设置为 3 秒
wdt1 = WDT(1, 3)

# 等待 2 秒
time.sleep(2)

# 喂狗操作，重置 WDT 计时器
wdt1.feed()

# 再次等待 2 秒
time.sleep(2)
```

## 3. 代码说明

1. **实例化 WDT**：
   - 创建 `WDT` 对象，参数为 WDT 编号和超时时间（单位：秒）。在本例中，超时时间设置为 3 秒。

1. **延迟操作**：
   - `time.sleep(2)` 暂停执行 2 秒。在此期间，如果没有进行喂狗操作，WDT 将计时到 3 秒后重启系统。

1. **喂狗操作**：
   - 调用 `wdt1.feed()` 方法，重置 WDT 计时器，以防止超时重启。

1. **再次延迟**：
   - 再次暂停 2 秒。此时，由于没有调用 `feed()`，WDT 将在超时后触发重启。

```{admonition} 提示
WDT 模块具体接口请参考 [API 文档](../../api/machine/K230_CanMV_WDT模块API手册.md)
```
